@using WereViewApp.Models.EntityModel.ExtenededWithCustomMethods
@model List<WereViewApp.Models.EntityModel.App>

@{
    bool isFirst = true;
    Layout = null;
    var length = Model != null ? Model.Count : 0;
    int i = 0;
}
<ol class="carousel-indicators">
    @for (i = 0; i < length; i++) {
        string classActive = isFirst ? "active" : null;
        <li data-target="#myCarousel" data-slide-to="@i" class="myCarousel-target @classActive"></li>
        {
            isFirst = false;
        }
    }
</ol>
@{
    isFirst = true;
}

<div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!--  Indicators  -->
    <div class="carousel-inner">

        @if (Model != null) {
            {
                i = 0;
            }
            foreach (var app in Model) {
                string classActive = isFirst ? "active" : null;
                string appName = @app.AppName;
                string absUrl = @app.GetAppURL();
                string category = @app.GetCategoryString();
                string platform = @app.GetPlatformString();
                var platformO = @app.GetPlatform();
                <div data-slide-no="@i" class="item carousel-item @classActive">
                    <a href="@absUrl" title="@appName">
                        <img src="@app.GalleryHomeFeaturedLocation" alt="@app.AppName" class="img-responsive home-page-gallery-image">
                    </a>
                    <div class="container">
                        <div class="carousel-caption">
                            <div class="bannertextBox">
                                <div class="leftpart visible-md-block visible-lg-block" itemprop="rating" itemtype="@absUrl">
                                    <span class="rating" itemprop="value" title="rating of @appName">@app.AvgRating</span>
                                    <meta itemprop="best" content="10" />
                                </div>
                                <div class="rightpart">
                                    <h1 class="app-title-in-home-gallery @appName" title="@appName">
                                        <i class="@platformO.Icon"></i>
                                        <a href="@absUrl" title="@platform-@app.PlatformVersion @category @appName">
                                            @Html.Truncate(@appName, 18)
                                        </a>
                                    </h1>
                                    <p title="@appName" class="visible-md-block visible-lg-block">
                                        @Html.Truncate(app.Description, 100)
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {
                    isFirst = false;
                    i++;
                }
            }
        }
    </div>

    <div class="container">
        <a class="left carousel-control" href="#myCarousel" data-slide="prev"><i class="fa fa-chevron-left"></i></a>
        <a class="right carousel-control" href="#myCarousel" data-slide="next"><i class="fa fa-chevron-right"></i></a>
    </div>
</div><!-- /.carousel -->