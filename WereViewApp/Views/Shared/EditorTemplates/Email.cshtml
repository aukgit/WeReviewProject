@model object
@{
    bool isRequired = ViewData.ModelMetadata.IsRequired;
    string isRequiredStar = isRequired ? "*" : "",
        prop = ViewData.ModelMetadata.PropertyName.ToString(),
        propLower = prop.ToLower(),
        styleProperty = propLower,
        displayName = ViewData.ModelMetadata.DisplayName ?? ViewData.ModelMetadata.PropertyName,
        description = ViewData.ModelMetadata.Description,
        isValidate = ViewBag.isValidate ?? "false",
        templateName = "email",
        icon = ViewBag.icon ?? Icons.EmailO;

    var htmlAttributes = new RouteValueDictionary();
    EditorTemplate.CommonTemplateAssignments(templateName, "email", ViewBag, ref htmlAttributes, "email");
}

<div class="form-group form-row @styleProperty @templateName-type" data-type="@templateName" data-prop="@styleProperty" data-is-validate="@isValidate">
    <div class="controls dev-plugin">
        <label class="@ViewBag.labelColumn control-label form-label @styleProperty" for="@styleProperty" data-prop="@styleProperty">
            @displayName<span class="red">@isRequiredStar</span>
        </label>
        <div class="@ViewBag.textColumn form-input @styleProperty" data-prop="@styleProperty">
            <div class="input-validator-container">
                <span class="inner-addon left-addon">
                    <i class="@icon"></i>
                    @Html.TextBox("", ViewData.TemplateInfo.FormattedModelValue, htmlAttributes)
                </span>
                <div class="validator-container">
                    <div class="validator"></div>
                </div>
            </div>
            @if (description != null) {
                <a data-toggle="tooltip" data-original-title="@description" title="@description" class="tooltip-show">
                    <span class="description-icon"></span>
                </a>
            }
            @Html.ValidationMessageFor(m => m, null, new { @class = "invalid-input" })
        </div>
    </div>
</div>